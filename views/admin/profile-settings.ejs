<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../admin-partials/header.ejs') %>
        <!-- <style>
            .file-input {
                display: none;
            }
        </style> -->
    </head>
    <body>
        <div class="container-xxl position-relative  d-flex p-0">

            <%- include('../admin-partials/sidebar.ejs',{user: data.user})
            %>

            <div class="content bg-dark">
                <%- include('../admin-partials/navbar.ejs',{user: data.user})
                %>
                <div class="container-fluid pt-4 px-4">
                    <div
                        class="row  g-0">
                        <div class="col-md-12">
                            <div
                                class="container p-4  border  border-2  border-primary ">
                                <h6 class="mb-4 text-light">Profile
                                    Settings</h6>
                                <form action method="post" class="row"
                                    enctype="multipart/form-data">
                                    <div class="col-md-6 p-3">
                                        <div
                                            class="card border border-2 border-primary bg-transparent text-white">
                                            <img
                                                src="/static/img/<%= data.user.img %>"
                                                width="150px"
                                                height="150px"
                                                id="userImg"
                                                name="userImg"
                                                class="rounded-circle mx-auto border border-2 my-3 border-primary">
                                            <input type="file" id="fileInput"
                                                name="fileInput"
                                                style="display: none;" />

                                            <!-- Buton -->
                                            <button type="button"
                                                class="btn btn-primary rounded-0"
                                                id="changeImageBtn">Change
                                                Image</button>
                                            <div class="card-body">
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        required
                                                        name="name"
                                                        id="name"
                                                        value="<%= data.user.name %>"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fas fa-id-badge"></i>
                                                        Name</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        name="company"
                                                        id="company"
                                                        value="<%= data.user.company %>"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fas fa-building"></i>
                                                        Company</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <textarea
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        name="bio"
                                                        id="bio"
                                                        style="height: 100px;"
                                                        id="floatingTextarea"><%= data.user.bio %></textarea>
                                                    <label
                                                        for="floatingTextarea"><i
                                                            class="fas fa-paragraph"></i>
                                                        Bio</label>
                                                </div>

                                            </div>
                                            <!-- <ul
                                                class="list-group list-group-flush">
                                                <li class="list-group-item">An
                                                    item</li>
                                                <li class="list-group-item">A
                                                    second item</li>
                                                <li class="list-group-item">A
                                                    third item</li>
                                            </ul> -->
                                            <!-- <div class="card-body">
                                                <a href="#"
                                                    class="card-link">Card
                                                    link</a>
                                                <a href="#"
                                                    class="card-link">Another
                                                    link</a>
                                            </div> -->
                                        </div>
                                    </div>

                                    <div class="col-md-6 p-3">
                                        <div
                                            class="card border border-2 border-primary bg-transparent text-white">

                                            <div class="card-body">
                                                <h6
                                                    class="text-light mb-3">Social
                                                    Accounts</h6>

                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        name="linkedin"
                                                        id="linkedin"
                                                        value="<%= data.socialLinks.linkedin %>"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fab fa-linkedin"></i>
                                                        Linkedin</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        value="<%= data.socialLinks.website %>"
                                                        name="website"
                                                        id="website"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fas fa-globe"></i>
                                                        Website</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        value="<%= data.socialLinks.github %>"
                                                        name="github"
                                                        id="github"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fab fa-github"></i>
                                                        Github</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        name="twitter"
                                                        id="twitter"
                                                        value="<%= data.socialLinks.twitter %>"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fab fa-twitter"></i>
                                                        Twitter</label>
                                                </div>
                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="text"
                                                        name="instagram"
                                                        value="<%= data.socialLinks.instagram %>"
                                                        id="instagram"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fab fa-instagram"></i>
                                                        Instagram</label>
                                                </div>

                                                <div
                                                    class="form-floating mb-3">
                                                    <input type="email"
                                                        required
                                                        name="email"
                                                        id="email"
                                                        disabled
                                                        value="<%= data.user.email %>"
                                                        class="form-control border border-2  border-primary bg-gray text-light"
                                                        placeholder>
                                                    <label
                                                        class="text-light"
                                                        for="floatingInput"><i
                                                            class="fas fa-at"></i>
                                                        Email</label>
                                                </div>

                                            </div>

                                            <!-- <ul
                                            class="list-group list-group-flush">
                                            <li class="list-group-item">An
                                                item</li>
                                            <li class="list-group-item">A
                                                second item</li>
                                            <li class="list-group-item">A
                                                third item</li>
                                        </ul> -->
                                            <!-- <div class="card-body">
                                            <a href="#"
                                                class="card-link">Card
                                                link</a>
                                            <a href="#"
                                                class="card-link">Another
                                                link</a>
                                        </div> -->
                                        </div>
                                    </div>
                                    <div
                                        class="form-floating  text-center">
                                        <button type="submit"
                                            class="btn btn-primary w-50">Save</button>
                                    </div>
                                </form>

                            </div>

                        </div>

                    </div>

                </div>

                <div class="row">
                    <%- include('../admin-partials/footer.ejs') %>
                </div>
            </div>

            <script
                src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
            <script
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/chart/chart.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/easing/easing.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/waypoints/waypoints.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/owlcarousel/owl.carousel.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/tempusdominus/js/moment.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/tempusdominus/js/moment-timezone.min.js"></script>
            <script
                src="/static/admin-panel-assets/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

            <script src="/static/admin-panel-assets/js/main.js"></script>
            <script type="text/javascript">
                document.getElementById('changeImageBtn').addEventListener('click', function() {
                    document.getElementById('fileInput').click();
                });

                document.getElementById('fileInput').addEventListener('change', function() {
                    const fileInput = document.getElementById('fileInput');
                    if (fileInput.files.length > 0) {
                        const file = fileInput.files[0];

                        const reader = new FileReader();

                        reader.onload = function(event) {
                            const imgElement = document.getElementById('userImg');
                            imgElement.src = event.target.result;
                        };
        
                        reader.readAsDataURL(file);

                    }
                });

            </script>

        </body>

    </html>